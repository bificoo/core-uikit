'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _commonjsHelpers = require('../../../../_virtual/_commonjsHelpers.js');
var requestAnimationFramePolyfill$1 = require('../../../../_virtual/requestAnimationFramePolyfill.js_commonjs-exports');
require('./nativeRequestAnimationFrame.js');
require('../utils/emptyFunction.js');
require('../getGlobal.js');
var emptyFunction = require('../../../../_virtual/emptyFunction.js_commonjs-exports');
var getGlobal = require('../../../../_virtual/getGlobal.js_commonjs-exports');
var nativeRequestAnimationFrame = require('../../../../_virtual/nativeRequestAnimationFrame.js_commonjs-exports');

(function (exports) {

exports.__esModule = true;
exports["default"] = void 0;

var _nativeRequestAnimationFrame = _interopRequireDefault(nativeRequestAnimationFrame.__exports);

var _emptyFunction = _interopRequireDefault(emptyFunction.__exports);

var _getGlobal = _interopRequireDefault(getGlobal.__exports);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var g = (0, _getGlobal["default"])();
var lastTime = 0;

function _setTimeout(callback) {
  var currTime = Date.now();
  var timeDelay = Math.max(0, 16 - (currTime - lastTime));
  lastTime = currTime + timeDelay;
  return g.setTimeout(function () {
    callback(Date.now());
  }, timeDelay);
}
/**
 * Here is the native and polyfill version of requestAnimationFrame.
 * Please don't use it directly and use requestAnimationFrame module instead.
 */


var requestAnimationFrame = _nativeRequestAnimationFrame["default"] && _nativeRequestAnimationFrame["default"].bind(g) || _setTimeout; // Works around a rare bug in Safari 6 where the first request is never invoked.


requestAnimationFrame(_emptyFunction["default"]);
var _default = requestAnimationFrame;
exports["default"] = _default;
}(requestAnimationFramePolyfill$1.__exports));

var requestAnimationFramePolyfill = /*@__PURE__*/_commonjsHelpers.getDefaultExportFromCjs(requestAnimationFramePolyfill$1.__exports);

exports['default'] = requestAnimationFramePolyfill;
